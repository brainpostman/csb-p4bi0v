(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(5),r=(n(15),n(2)),i=n(6),s=(n(16),n(0));function u(e){return JSON.parse(JSON.stringify(e))}function o(e){var t=Object(c.useState)(e.gridWidth),n=Object(r.a)(t,2),a=n[0],o=(n[1],Object(c.useState)(e.gridHeight)),l=Object(r.a)(o,2),j=l[0],b=(l[1],Object(c.useState)(u(e.grid))),d=Object(r.a)(b,2),h=d[0],O=d[1],f=Object(c.useState)(e.head.slice()),p=Object(r.a)(f,2),v=p[0],k=p[1],m=Object(c.useState)(u(e.path)),g=Object(r.a)(m,2),y=g[0],w=g[1],x=Object(c.useState)("keyUp"),S=Object(r.a)(x,2),N=S[0],M=S[1],R=Object(c.useState)("up"),E=Object(r.a)(R,2),C=E[0],H=E[1],U=Object(c.useState)(e.food.slice()),A=Object(r.a)(U,2),L=A[0],D=A[1],I=Object(c.useState)(!1),P=Object(r.a)(I,2),T=P[0],F=P[1],J=Object(c.useState)(!1),G=Object(r.a)(J,2),W=G[0],z=G[1],B=Object(c.useState)(0),V=Object(r.a)(B,2),Y=V[0],q=V[1],K=Object(c.useRef)(null),Q=Object(c.useRef)("keyUp");Object(c.useEffect)((function(){document.addEventListener("keydown",(function(e){"ArrowUp"===e.key&&"keyDown"!==Q.current?(M("keyUp"),Q.current="keyUp"):"ArrowDown"===e.key&&"keyUp"!==Q.current?(M("keyDown"),Q.current="keyDown"):"ArrowLeft"===e.key&&"keyRight"!==Q.current?(M("keyLeft"),Q.current="keyLeft"):"ArrowRight"===e.key&&"keyLeft"!==Q.current&&(M("keyRight"),Q.current="keyRight")}))}),[]),Object(c.useEffect)((function(){te(v,y),ee(v);var e=Z(C,N),t=null;return!W&&T&&(t=X(h,v,y,e,L),K.current=setTimeout((function(){H(e),k(t.newHead),w(t.newPath),D(t.newFood),O(t.grid)}),350)),function(){clearTimeout(K.current)}}),[h,T]);var X=function(e,t,n,c,a){var r,s=u(e),o=t.slice(),l=u(n),j=a.slice(),b=$(o,j);switch(c){case"up":r=[o[0]-1,o[1]];break;case"down":r=[o[0]+1,o[1]];break;case"left":r=[o[0],o[1]-1];break;case"right":r=[o[0],o[1]+1]}l.unshift(o);var d=null;b?q((function(e){return e+1})):d=l.pop();var h=l;s[r[0]][r[1]]=1;var O,f,p=Object(i.a)(h);try{for(p.s();!(O=p.n()).done;){var v=O.value;s[v[0]][v[1]]=1}}catch(k){p.e(k)}finally{p.f()}return null!==d&&(s[d[0]][d[1]]=0),b?s[(f=_(s))[0]][f[1]]=2:f=j,{newHead:r,newPath:h,grid:s,newFood:f}},Z=function(e,t){var n;switch(t){case"keyUp":n="down"!==e?"up":"down";break;case"keyDown":n="up"!==e?"down":"up";break;case"keyLeft":n="right"!==e?"left":"right";break;case"keyRight":n="left"!==e?"right":"left"}return n},$=function(e,t){return e.every((function(e,n){return e===t[n]}))},_=function(e){for(var t;;){var n=1+Math.floor(Math.random()*(j-2)),c=1+Math.floor(Math.random()*(a-2));if(0===e[n][c]){t=[n,c];break}}return t},ee=function(e){1!==e[0]&&e[0]!==j-2&&1!==e[1]&&e[1]!==a-2||z(!0)},te=function(e,t){t.forEach((function(t){t[0]===e[0]&&t[1]===e[1]&&z(!0)}))};return Object(s.jsxs)("div",{className:"snake-container",children:[T?Object(s.jsxs)("div",{children:[" ",W?Object(s.jsxs)("div",{className:"menu",children:[Object(s.jsx)("p",{children:"GAME OVER"}),Object(s.jsx)("p",{children:"Your score:"}),Object(s.jsx)("p",{children:Y}),Object(s.jsx)("button",{onClick:function(){F(!1),z(!1),e.gameRestart(!1)},children:"Try again?"})]}):Object(s.jsx)("div",{className:"grid-container",style:{gridTemplateColumns:"repeat(".concat(a,", 1fr)")},children:h.map((function(e,t){return e.map((function(e,n){switch(e){case 1:return Object(s.jsx)("div",{className:"cell-raised snake"},"h".concat(t," w").concat(n));case 2:return Object(s.jsx)("div",{className:"cell-raised food"},"h".concat(t," w").concat(n));case 3:return Object(s.jsx)("div",{className:"cell-raised wall"},"h".concat(t," w").concat(n));default:return Object(s.jsx)("div",{className:"cell empty"},"h".concat(t," w").concat(n))}}))})).flatMap((function(e){return e}))})]}):Object(s.jsxs)("div",{className:"menu",children:[Object(s.jsx)("p",{children:"Press start to begin"}),Object(s.jsx)("button",{onClick:function(){F(!0)},children:"Start"})]}),T&&!W&&Object(s.jsxs)("div",{className:"score",children:[Object(s.jsx)("p",{children:"SCORE:"}),Object(s.jsx)("p",{children:Y})]})]})}n(18);var l=function(){var e=Object(c.useState)("12"),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)("9"),u=Object(r.a)(i,2),l=u[0],j=u[1],b=Object(c.useState)(!1),d=Object(r.a)(b,2),h=d[0],O=d[1],f=Object(c.useState)(null),p=Object(r.a)(f,2),v=p[0],k=p[1],m=Object(c.useState)(null),g=Object(r.a)(m,2),y=g[0],w=g[1],x=Object(c.useState)(null),S=Object(r.a)(x,2),N=S[0],M=S[1],R=Object(c.useState)([[]]),E=Object(r.a)(R,2),C=E[0],H=E[1],U=Object(c.useRef)(null),A=function(e){var t=e[0].length,n=e.length,c=e.slice(),a=[Math.floor(Math.round(n/2)-2),Math.floor(Math.round(t/3)-1)];c[a[0]][a[1]]=1;for(var r=[],i=1;i<3;i++){var s=[a[0]+i,a[1]];r.push(s)}for(var u=0,o=r;u<o.length;u++){var l=o[u];c[l[0]][l[1]]=1}for(var j=[];;){var b=1+Math.floor(Math.random()*(n-1)),d=1+Math.floor(Math.random()*(t-1));if(0===c[b][d]){c[b][d]=2,j=[b,d];break}}return{initialSnakeHead:a,initialSnakePath:r,initialFood:j,initialGrid:c}};return Object(s.jsx)("div",{className:"App",children:h?Object(s.jsx)(o,{grid:C,head:v,path:y,food:N,gridWidth:Number.parseInt(n)+2,gridHeight:Number.parseInt(l)+2,gameRestart:O}):Object(s.jsxs)("div",{className:"menu",children:[Object(s.jsx)("p",{children:"Enter grid size (between 12x9 and 30x30):"}),Object(s.jsx)("p",{children:"Width:"}),Object(s.jsx)("input",{type:"number",value:n,onChange:function(e){a(e.target.value)}}),Object(s.jsx)("p",{children:"Height:"}),Object(s.jsx)("input",{type:"number",value:l,onChange:function(e){j(e.target.value)}}),Object(s.jsx)("button",{onClick:function(){var e=Number.parseInt(n),t=Number.parseInt(l);if(!(e<12||t<9||e>30||t>30)){clearTimeout(U.current);for(var c=[],a=0;a<t+2;a++){c.push([]);for(var r=0;r<e+2;r++)a<=1||a>=t||r<=1||r>=e?c[a].push(3):c[a].push(0)}var i=A(c);k(i.initialSnakeHead),w(i.initialSnakePath),M(i.initialFood),H(i.initialGrid),O(!0)}},children:"Continue"})]})})},j=document.getElementById("root");Object(a.createRoot)(j).render(Object(s.jsx)(c.StrictMode,{children:Object(s.jsx)(l,{})}))}},[[19,1,2]]]);
//# sourceMappingURL=main.39137267.chunk.js.map